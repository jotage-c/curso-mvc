@model IEnumerable<Blogs.Models.Post>

@{
    ViewData["Title"] = "Posts";
}

<h2>Lista de Posts</h2>

<a asp-action="Create" class="btn btn-primary mb-3">Novo Post</a>

<div class="row">
    @foreach (var item in Model)
    {
        <div class="col-md-4 mb-4">
            <div class="card h-100 shadow-sm">
                @if (!string.IsNullOrEmpty(item.PostImageUrl))
                {
                    <img src="@item.PostImageUrl" class="card-img-top" alt="Imagem do post" style="height:200px; object-fit:cover;" />
                }
            <div class="card-body">
                <h5 class="card-title">@item.PostAuthor</h5>
                <p class="card-text text-muted">@item.PostCreationDate.ToShortDateString()</p>
                <p class="card-text">
                    @(string.IsNullOrEmpty(item.PostContent)
                                        ? ""
                                        : item.PostContent.Length > 100
                                        ? item.PostContent.Substring(0, 100) + "..."
                                        : item.PostContent)
                </p>
            </div>
        </div>
    </div>
        }
</div>